<div class="logout-container">
  <button (click)="onLogout()" class="btn logout-btn">Logout</button>
</div>

<div class="toggle-container">
  <div class="toggle-switch" (click)="toggleView()" tabindex="0" 
       (keypress)="handleKeyPress($event)" 
       (keydown)="handleKeyDown($event)" 
       (keyup)="handleKeyUp($event)">
    <div class="toggle-indicator" [class.active]="showTransactionForm"></div>
    <div class="toggle-text left">Transaction history</div>
    <div class="toggle-text right">Transaction form</div>
  </div>
</div>

<div class="transaction-form">
  <div *ngIf="showTransactionForm">
    <form (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="senderPhone">Sender's Phone Number</label>
        <div class="input-container">
          <span class="material-icons">phone</span>
          <input type="text" id="senderPhone" [(ngModel)]="transaction.senderPhone" 
                 name="senderPhone" required>
        </div>
      </div>

      <div class="form-group">
        <label for="recipientPhone">Recipient's Phone Number</label>
        <div class="input-container">
          <span class="material-icons">phone</span>
          <input type="text" id="recipientPhone" [(ngModel)]="transaction.recipientPhone" 
                 name="recipientPhone" required>
        </div>
      </div>

      <div class="form-group">
        <label for="senderBank">Sender's Bank</label>
        <div class="input-container">
          <span class="material-icons">account_balance</span>
          <input type="text" id="senderBank" [(ngModel)]="transaction.senderBank" 
                 name="senderBank" required>
        </div>
      </div>

      <div class="form-group">
        <label for="recipientBank">Recipient's Bank</label>
        <div class="input-container">
          <span class="material-icons">account_balance</span>
          <input type="text" id="recipientBank" [(ngModel)]="transaction.recipientBank" 
                 name="recipientBank" required>
        </div>
      </div>

      <div class="form-group">
        <label for="amount">Transaction Amount (MRU)</label>
        <div class="input-container">
          <span class="currency-symbol">MRU</span>
          <input type="number" id="amount" [(ngModel)]="transaction.amount" 
                 name="amount" (input)="onAmountChange()" required class="no-spin">
        </div>
      </div>

      <div class="form-group">
        <label for="note">Note (optional)</label>
        <div class="input-container">
          <span class="material-icons">note</span>
          <input type="text" id="note" [(ngModel)]="transaction.note" name="note">
        </div>
      </div>

      <div>
        <p>Transaction Fees: {{ transaction.fees }} MRU</p>
      </div>
      
      <button type="submit" class="btn submit-btn">Submit</button>
    </form>
  </div>

  <div *ngIf="!showTransactionForm">
    <app-transaction-history [transactions]="transactions"></app-transaction-history>
  </div>
</div>
